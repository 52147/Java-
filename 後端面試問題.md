# 2023 後端面試問題

## 1. Objeact Oriented Design

- 繼承
- 封裝
- 多態

## 2. Redis 緩存
如果有大量用戶需要搶少量商品，這種為讀多寫少的狀況，商品的數量不夠用戶的下單數，如果有數十萬的請求在同時發生，數據庫可能會無法運作，因為數據庫的連接資源非常有限，無法同時支持這麼多連接。ex: mySql    

這時我們可以運用redis 來緩存商品的id、名稱、規格、庫存，同時數據庫中也要有相關信息。    

顧客下單，商品id傳入redis緩存以查詢庫存量，得到庫存量足夠後再下單，接著將訂單資料放入DB。   
如果在緩存中沒有查到商品，換到數據庫中查詢，如果在數據庫中查詢到商品，將商品放入緩存，接著在下單把訂單資料放入DB。 (有緩存擊穿問題)

### 問題: 緩存擊穿
如果同一時間通同一商品有大量請求，這些請求同時去緩存查詢有沒有商品資訊，然後沒有在緩存查到商品後，又訪問數據庫做查詢
=> 數據庫無法處理大量請求，掛掉。    

解決方式:   
如果在緩存中沒有查詢到商品資訊，獲取分布式鎖，如果獲取成功，從數據庫中查詢商品，如果商品存在，再將品放入緩存中，下訂單。


### 問題: 緩存穿透
不用分布式鎖，利用布隆過濾器查詢商品id，如果存在此id，允許從緩存中查詢商品，如果不存在，返回失敗。(如果緩存更新頻繁，無法確保布隆過濾器也同步更新)    

解決 : 商品如果不存在，將不存在的商品id 放入redis，這樣可以減少緩存更新商品id
顧客下單，商品id傳入redis緩存以查詢庫存量，商品如果不存在，將不存在的商品id 放入redis，如果商品存在，將訂單資料放入DB。   

## 3. URL 是什麼
URL（Uniform Resource Locator），用於定位網路上的資源位置，又稱網址。    

語法規則:   
scheme://host.domain:port/path/filename   

- schema: 定義網路服務的類型，最常見的協議為http，https是利用SSL/TLS來加密數據包，又稱「非對稱式加密」的網路傳輸協議。
- host: 定義域主機(http 默認主機為 www)
- domain: 定義網路域名，例如: github.com、wikipedia.org
- port: 定義主機上的端口號(http 的默認端口號是80)
- path: 定義服務器上的路徑(如果省略，檔案必須位於跟目錄中)
- filename: 定義檔案名稱


## 3. 從瀏覽器輸入url之後到網頁的呈現中間的過程
### 1. DNS 解析域名
DNS 協議為Distributed database，它將域名(domain name)解析成ip 地址或將ip地址轉換成域名。原因: 域名(用英文和數代表一台主機)更符合人類的記憶習慣，帶如果要使用計算機去辨認，ip address(一串數字) 計算機比較容易辨識。    

ip 地址: ip 協議提供的一種統一的地址格式，網路上的每一台主機都有一個ip 地址。ip 地址為32位於的2進制數，例如本機的ip 地址為 127.0.0.1。





